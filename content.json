{"meta":{"title":"子虫h的个人博客","subtitle":"梦想，未来","description":"","author":"子虫h","url":"http://zichong-h.github.io","root":"/"},"pages":[{"title":"404","date":"2020-02-23T11:37:07.000Z","updated":"2021-03-12T17:33:19.000Z","comments":true,"path":"404.html","permalink":"http://zichong-h.github.io/404.html","excerpt":"","text":""},{"title":"关于","date":"2021-03-12T17:19:06.000Z","updated":"2021-03-12T17:19:30.000Z","comments":true,"path":"about/index.html","permalink":"http://zichong-h.github.io/about/index.html","excerpt":"","text":""},{"title":"标签","date":"2021-03-12T17:18:29.000Z","updated":"2021-03-12T17:18:58.000Z","comments":true,"path":"tags/index.html","permalink":"http://zichong-h.github.io/tags/index.html","excerpt":"","text":""},{"title":"分类","date":"2021-03-12T17:17:21.000Z","updated":"2021-03-12T17:18:21.000Z","comments":true,"path":"categories/index.html","permalink":"http://zichong-h.github.io/categories/index.html","excerpt":"","text":""}],"posts":[{"title":"Shell脚本初识","slug":"shell脚本","date":"2021-03-22T14:59:04.000Z","updated":"2021-03-26T16:09:27.778Z","comments":true,"path":"2021/03/22/shell脚本/","link":"","permalink":"http://zichong-h.github.io/2021/03/22/shell%E8%84%9A%E6%9C%AC/","excerpt":"","text":"1. 简单认识Shell 1.1. Shell 的作用shell的作用 -- 命令解释器,&quot;翻译官&quot;,介于系统内核与用户之间,负责解释命令行 登陆后默认使用的Shell程序一般为&#x2F;bin&#x2F;bash,不同Shell的内部指令,运行环境等会有所区别 1.2. 执行脚本文件1.2.1. 方法一: 脚本文件路径hacker@Hacker:~&#x2F;Desktop$ .&#x2F;hacker.sh 其中,脚本文件必须要有x可执行权限,在当前环境直接运行 1.2.2. 方法二: sh脚本路径hacker@Hacker:~&#x2F;Desktop$ sh hacker.sh 不需要x权限,相当于打开了一个Shell程序,将你脚本内容调到Shell里执行 1.2.3. 方法三: soure脚本文件路径hacker@Hacker:~&#x2F;Desktop$ soure hacker.sh 不需要x权限,和sh一样,新开程序调用脚本内容 2. 编写第一个Shell脚本2.1. 一般的编写格式#!&#x2F;bin&#x2F;bash #这个脚本展示了标准的Shell脚本格式 #输出hello world echo hello world 2.2. Shell的变量 2.2.1. 变量的作用为灵活管理Linux系统提供的特定参数,有两层意思 * 变量名: 使用固定的名称,有系统预设或用户自定义 * 变量值: 能够根据用户设置,系统环境的变化而变化 2.2.2. 变量的类型自定义变量: 有用户自己定义,修改和使用 环境变量: 有系统维护,用于设置工作环境 位置变量: 通过命令行给脚本程序传递参数 预定义变量: Bash中内置的一类变量,不能直接修改 2.2.3. 变量的定义变量名以字母或下划线开头,区分大小写,建议全大写 hacker@Hacker:~&#x2F;Desktop$ name&#x3D;zichongh hacker@Hacker:~&#x2F;Desktop$ echo $name zichongh 2.2.4. 变量的赋值 赋值时使用引号 双引号: 允许通过$符号引用其他变量值 hacker@Hacker:~&#x2F;Desktop$ a&#x3D;whoami hacker@Hacker:~&#x2F;Desktop$ b&#x3D;&quot;$a&quot; hacker@Hacker:~&#x2F;Desktop$ echo $b whoami 单引号: 禁止引用其他变量值,$视为普通值 hacker@Hacker:~&#x2F;Desktop$ a&#x3D;whoami hacker@Hacker:~&#x2F;Desktop$ b&#x3D;&#39;$a&#39; hacker@Hacker:~&#x2F;Desktop$ echo $b $a 反撇号: 命令替换,提取命令执行后的输出结果 hacker@Hacker:~&#x2F;Desktop$ a&#x3D;whoami hacker@Hacker:~&#x2F;Desktop$ b&#x3D;&#96;$a&#96; hacker@Hacker:~&#x2F;Desktop$ echo $b hacker 从键盘输入内容为变量赋值 read [-p &quot;提示信息&quot;] 变量名 脚本内容 #!&#x2F;bin&#x2F;bash read -p &quot;plese input your name:&quot; username echo $username 执行结果 hacker@Hacker:~&#x2F;Desktop$ sh 1.sh plese input your name:zichongh zichongh 设置变量的作用范围 声明变量后如果切换bash环境后就无法使用变量,需要加个export将变量设置成全局变量.多用于试图修改环境变量PATH时或者有子bash的脚本 格式1: export 变量名... 格式2: export 变量名&#x3D;变量值... 整数变量的运算 expr 变量1 运算符 变量2 常用运算符 * 加法运算: + * 减法运算: - * 乘法运算: \\* * 除法运算: &#x2F; * 求模(取余)运算: % 特殊的Shell变量 环境变量 由系统提前创建,用来设置用户的工作环境 配置文件: &#x2F;etc&#x2F;profile, ~&#x2F;.bash_profile 常见的环境变量有: * PWD、PATH * USER、SHELL、HOME 位置变量 表示为$n, n为1-9之间的数字 脚本内容 #!&#x2F;bin&#x2F;bash echo $2 echo $3 输出内容 hacker@Hacker:~&#x2F;Desktop$ sh 1.sh 11 22 33 44 22 33 预定义变量 $#: 命令行中位置变量的个数 $*: 所有位置变量的内容 $?: 上一条命令执行后返回的状态,当返回状态值为0时表示执行正常,非0值表示执行异常或出错 $0: 当前执行的进程&#x2F;程序名","categories":[{"name":"Linux","slug":"Linux","permalink":"http://zichong-h.github.io/categories/Linux/"}],"tags":[{"name":"Shell脚本","slug":"Shell脚本","permalink":"http://zichong-h.github.io/tags/Shell%E8%84%9A%E6%9C%AC/"},{"name":"Linux","slug":"Linux","permalink":"http://zichong-h.github.io/tags/Linux/"}],"author":"子虫h"}],"categories":[{"name":"Linux","slug":"Linux","permalink":"http://zichong-h.github.io/categories/Linux/"}],"tags":[{"name":"Shell脚本","slug":"Shell脚本","permalink":"http://zichong-h.github.io/tags/Shell%E8%84%9A%E6%9C%AC/"},{"name":"Linux","slug":"Linux","permalink":"http://zichong-h.github.io/tags/Linux/"}]}
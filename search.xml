<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Shell脚本初识</title>
      <link href="2021/03/22/shell%E8%84%9A%E6%9C%AC/"/>
      <url>2021/03/22/shell%E8%84%9A%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[</br></br></br><h1 id="1-简单认识Shell"><a href="#1-简单认识Shell" class="headerlink" title="1. 简单认识Shell"></a>1. 简单认识Shell</h1></br><h2 id="1-1-Shell-的作用"><a href="#1-1-Shell-的作用" class="headerlink" title="1.1. Shell 的作用"></a>1.1. Shell 的作用</h2><pre class="line-numbers language-none"><code class="language-none">shell的作用 -- 命令解释器,&quot;翻译官&quot;,介于系统内核与用户之间,负责解释命令行登陆后默认使用的Shell程序一般为&#x2F;bin&#x2F;bash,不同Shell的内部指令,运行环境等会有所区别<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></br><h2 id="1-2-执行脚本文件"><a href="#1-2-执行脚本文件" class="headerlink" title="1.2. 执行脚本文件"></a>1.2. 执行脚本文件</h2><h3 id="1-2-1-方法一-脚本文件路径"><a href="#1-2-1-方法一-脚本文件路径" class="headerlink" title="1.2.1. 方法一: 脚本文件路径"></a>1.2.1. 方法一: 脚本文件路径</h3><pre class="line-numbers language-none"><code class="language-none">hacker@Hacker:~&#x2F;Desktop$ .&#x2F;hacker.sh其中,脚本文件必须要有x可执行权限,在当前环境直接运行<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="1-2-2-方法二-sh脚本路径"><a href="#1-2-2-方法二-sh脚本路径" class="headerlink" title="1.2.2. 方法二: sh脚本路径"></a>1.2.2. 方法二: sh脚本路径</h3><pre class="line-numbers language-none"><code class="language-none">hacker@Hacker:~&#x2F;Desktop$ sh hacker.sh不需要x权限,相当于打开了一个Shell程序,将你脚本内容调到Shell里执行<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="1-2-3-方法三-soure脚本文件路径"><a href="#1-2-3-方法三-soure脚本文件路径" class="headerlink" title="1.2.3. 方法三: soure脚本文件路径"></a>1.2.3. 方法三: soure脚本文件路径</h3><pre class="line-numbers language-none"><code class="language-none">hacker@Hacker:~&#x2F;Desktop$ soure hacker.sh不需要x权限,和sh一样,新开程序调用脚本内容<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h1 id="2-编写第一个Shell脚本"><a href="#2-编写第一个Shell脚本" class="headerlink" title="2. 编写第一个Shell脚本"></a>2. 编写第一个Shell脚本</h1><h2 id="2-1-一般的编写格式"><a href="#2-1-一般的编写格式" class="headerlink" title="2.1. 一般的编写格式"></a>2.1. 一般的编写格式</h2><pre class="line-numbers language-none"><code class="language-none">#!&#x2F;bin&#x2F;bash#这个脚本展示了标准的Shell脚本格式#输出hello worldecho hello world<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></br><h2 id="2-2-Shell的变量"><a href="#2-2-Shell的变量" class="headerlink" title="2.2. Shell的变量"></a>2.2. Shell的变量</h2></br><h3 id="2-2-1-变量的作用"><a href="#2-2-1-变量的作用" class="headerlink" title="2.2.1. 变量的作用"></a>2.2.1. 变量的作用</h3><pre class="line-numbers language-none"><code class="language-none">为灵活管理Linux系统提供的特定参数,有两层意思    * 变量名: 使用固定的名称,有系统预设或用户自定义    * 变量值: 能够根据用户设置,系统环境的变化而变化<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="2-2-2-变量的类型"><a href="#2-2-2-变量的类型" class="headerlink" title="2.2.2. 变量的类型"></a>2.2.2. 变量的类型</h3><pre class="line-numbers language-none"><code class="language-none">自定义变量: 有用户自己定义,修改和使用环境变量: 有系统维护,用于设置工作环境位置变量: 通过命令行给脚本程序传递参数预定义变量: Bash中内置的一类变量,不能直接修改<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-2-3-变量的定义"><a href="#2-2-3-变量的定义" class="headerlink" title="2.2.3. 变量的定义"></a>2.2.3. 变量的定义</h3><p>变量名以字母或下划线开头,区分大小写,建议全大写</p><pre class="line-numbers language-none"><code class="language-none">hacker@Hacker:~&#x2F;Desktop$ name&#x3D;zichonghhacker@Hacker:~&#x2F;Desktop$ echo $namezichongh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="2-2-4-变量的赋值"><a href="#2-2-4-变量的赋值" class="headerlink" title="2.2.4. 变量的赋值"></a>2.2.4. 变量的赋值</h3><ol><li>赋值时使用引号</li></ol><ul><li><p>双引号: 允许通过$符号引用其他变量值</p><pre class="line-numbers language-none"><code class="language-none">hacker@Hacker:~&#x2F;Desktop$ a&#x3D;whoamihacker@Hacker:~&#x2F;Desktop$ b&#x3D;&quot;$a&quot;hacker@Hacker:~&#x2F;Desktop$ echo $bwhoami<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>单引号: 禁止引用其他变量值,$视为普通值</p></li></ul><pre class="line-numbers language-none"><code class="language-none">hacker@Hacker:~&#x2F;Desktop$ a&#x3D;whoamihacker@Hacker:~&#x2F;Desktop$ b&#x3D;&#39;$a&#39;hacker@Hacker:~&#x2F;Desktop$ echo $b$a<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>反撇号: 命令替换,提取命令执行后的输出结果</li></ul><pre class="line-numbers language-none"><code class="language-none">hacker@Hacker:~&#x2F;Desktop$ a&#x3D;whoamihacker@Hacker:~&#x2F;Desktop$ b&#x3D;&#96;$a&#96;hacker@Hacker:~&#x2F;Desktop$ echo $bhacker<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>从键盘输入内容为变量赋值</li></ol><pre class="line-numbers language-none"><code class="language-none">read [-p &quot;提示信息&quot;] 变量名<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">脚本内容    #!&#x2F;bin&#x2F;bash    read -p &quot;plese input your name:&quot; username    echo $username执行结果    hacker@Hacker:~&#x2F;Desktop$ sh 1.sh     plese input your name:zichongh    zichongh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li><p>设置变量的作用范围<br> 声明变量后如果切换bash环境后就无法使用变量,需要加个export将变量设置成全局变量.多用于试图修改环境变量PATH时或者有子bash的脚本</p> <pre class="line-numbers language-none"><code class="language-none">格式1: export 变量名...格式2: export 变量名&#x3D;变量值...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>整数变量的运算</p></li></ol><pre class="line-numbers language-none"><code class="language-none">expr 变量1 运算符 变量2常用运算符* 加法运算: +* 减法运算: -* 乘法运算: \** 除法运算: &#x2F;* 求模(取余)运算: %<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="5"><li>特殊的Shell变量</li></ol><ul><li>环境变量 <pre class="line-numbers language-none"><code class="language-none">由系统提前创建,用来设置用户的工作环境配置文件: &#x2F;etc&#x2F;profile, ~&#x2F;.bash_profile常见的环境变量有:    * PWD、PATH    * USER、SHELL、HOME<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li>位置变量  <pre class="line-numbers language-none"><code class="language-none">表示为$n, n为1-9之间的数字<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>  <pre class="line-numbers language-none"><code class="language-none">脚本内容    #!&#x2F;bin&#x2F;bash    echo $2    echo $3输出内容    hacker@Hacker:~&#x2F;Desktop$ sh 1.sh 11 22 33 44    22    33<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li>预定义变量  <pre class="line-numbers language-none"><code class="language-none">$#: 命令行中位置变量的个数$*: 所有位置变量的内容$?: 上一条命令执行后返回的状态,当返回状态值为0时表示执行正常,非0值表示执行异常或出错$0: 当前执行的进程&#x2F;程序名<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Shell脚本 </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
